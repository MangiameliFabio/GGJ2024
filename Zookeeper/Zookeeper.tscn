[gd_scene load_steps=12 format=3 uid="uid://c34jh3v61xojh"]

[ext_resource type="Script" path="res://Zookeeper/zookeeper.gd" id="1_nf5op"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/Zookeeper_State_Machine.gd" id="2_sgkx4"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Idle.gd" id="3_5yo00"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Follow_Player.gd" id="4_13t8d"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Attack.gd" id="5_qsxm6"]
[ext_resource type="PackedScene" uid="uid://doos1hqfu3wdh" path="res://Zookeeper/Zookeeper_Model.tscn" id="6_0t135"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Death.gd" id="6_f5tih"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Charge_Dash.gd" id="7_1du7w"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Dash.gd" id="8_mgsos"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xat7b"]

[sub_resource type="SphereShape3D" id="SphereShape3D_4upli"]
radius = 4.0

[node name="Zookeeper" type="CharacterBody3D" groups=["enemy"]]
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("1_nf5op")

[node name="World_Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_xat7b")

[node name="ZookeeperStateMachine" type="Node" parent="."]
script = ExtResource("2_sgkx4")
initial_state = NodePath("Follow_Player")

[node name="Idle" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("3_5yo00")

[node name="Follow_Player" type="Node" parent="ZookeeperStateMachine" node_paths=PackedStringArray("zookeeper")]
script = ExtResource("4_13t8d")
zookeeper = NodePath("../..")

[node name="Attack" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("5_qsxm6")

[node name="Death" type="Node" parent="ZookeeperStateMachine" node_paths=PackedStringArray("bone")]
script = ExtResource("6_f5tih")
bone = NodePath("../../Zookeeper_Model/Armature_001/Skeleton3D/Physical Bone mixamorig_Spine2")

[node name="Charge_Dash" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("7_1du7w")

[node name="Dash" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("8_mgsos")

[node name="Navigation_Agent" type="NavigationAgent3D" parent="."]
target_desired_distance = 1.5
avoidance_enabled = true

[node name="Zookeeper_Model" parent="." instance=ExtResource("6_0t135")]

[node name="Skeleton3D" parent="Zookeeper_Model/Armature_001" index="0"]
bones/0/position = Vector3(0.485142, 0.943017, -56.9517)
bones/0/rotation = Quaternion(-0.456726, -0.0706179, 0.000442869, 0.8868)
bones/1/rotation = Quaternion(0.0693271, 0.0223427, 0.00477646, 0.997332)
bones/2/rotation = Quaternion(0.263488, 0.0369174, 0.00572699, 0.963939)
bones/3/position = Vector3(-1.3113e-06, 9.32208, -1.05608e-05)
bones/3/rotation = Quaternion(0.27544, 0.0392403, 0.00894524, 0.960475)
bones/4/rotation = Quaternion(0.0481614, -0.0259876, 0.0750817, 0.995675)
bones/5/rotation = Quaternion(-0.225847, -0.00541525, -0.0627451, 0.972125)
bones/6/rotation = Quaternion(-0.433749, 0.611944, -0.435247, -0.497943)
bones/7/position = Vector3(-3.57628e-07, 10.8382, -6.66343e-07)
bones/7/rotation = Quaternion(0.273321, 0.334887, -0.595225, 0.677388)
bones/8/position = Vector3(-9.63688e-06, 27.8415, -1.58086e-05)
bones/8/rotation = Quaternion(-7.6648e-08, -1.3184e-07, -0.22363, 0.974674)
bones/9/rotation = Quaternion(-0.156, 0.108123, -0.0726208, 0.979132)
bones/10/rotation = Quaternion(0.324174, -0.127424, -0.240209, 0.906076)
bones/11/position = Vector3(2.21178e-06, 4.18899, -3.41797e-06)
bones/11/rotation = Quaternion(-0.104666, -0.0690383, 0.430446, 0.893865)
bones/12/position = Vector3(1.11383e-05, 3.41625, 6.69586e-06)
bones/12/rotation = Quaternion(-0.0598363, -0.0336125, 0.179312, 0.981395)
bones/13/position = Vector3(8.34465e-07, 2.57497, 2.44224e-07)
bones/14/position = Vector3(2.25983, 9.10829, 0.517868)
bones/14/rotation = Quaternion(0.40864, -6.70565e-05, 0.0496529, 0.911344)
bones/15/position = Vector3(2.91133e-07, 3.69999, 5.62467e-07)
bones/15/rotation = Quaternion(0.60178, 0.000154482, 0.073545, 0.795269)
bones/16/position = Vector3(-6.47087e-08, 2.85001, 2.05763e-07)
bones/16/rotation = Quaternion(0.317592, -2.84457e-05, 0.0386218, 0.947441)
bones/18/position = Vector3(-2.48329e-05, 9.53251, 4.63095e-05)
bones/18/rotation = Quaternion(0.40864, -0.000204885, 0.0493452, 0.911361)
bones/19/position = Vector3(-5.02199e-07, 3.70001, -3.32152e-06)
bones/19/rotation = Quaternion(0.601782, 0.000511754, 0.0740176, 0.795223)
bones/20/rotation = Quaternion(0.317587, -0.000102486, 0.0384002, 0.947451)
bones/21/position = Vector3(-4.01207e-07, 2.94664, 1.32651e-06)
bones/22/position = Vector3(-1.86514, 9.10359, 0.0430797)
bones/22/rotation = Quaternion(0.40864, 6.38927e-05, 0.0499445, 0.911328)
bones/23/rotation = Quaternion(0.601782, -0.000132921, 0.0731656, 0.795302)
bones/24/rotation = Quaternion(0.317587, -3.59546e-05, 0.0385984, 0.947443)
bones/25/position = Vector3(-9.08724e-06, 2.63881, 2.1622e-06)
bones/26/position = Vector3(-3.80628, 8.07668, 0.48671)
bones/26/rotation = Quaternion(0.408644, 0.00021261, 0.0502767, 0.911308)
bones/27/position = Vector3(-3.01202e-08, 3.6, -2.13743e-06)
bones/27/rotation = Quaternion(0.601784, 0.000509491, 0.0740147, 0.795222)
bones/28/position = Vector3(2.71188e-06, 2.09998, 8.61805e-07)
bones/28/rotation = Quaternion(0.317588, -0.000158097, 0.0382345, 0.947458)
bones/29/position = Vector3(-1.17017e-06, 2.11577, -4.388e-06)
bones/30/rotation = Quaternion(0.400471, 0.602605, -0.291905, 0.625525)
bones/31/position = Vector3(-4.76837e-07, 10.8377, -2.02153e-06)
bones/31/rotation = Quaternion(0.393034, -0.428495, 0.528337, 0.618689)
bones/32/position = Vector3(2.53428e-06, 27.8415, -5.99141e-06)
bones/32/rotation = Quaternion(2.95888e-07, -1.45028e-07, 0.197142, 0.980375)
bones/33/position = Vector3(6.12936e-06, 28.3288, 6.23057e-06)
bones/33/rotation = Quaternion(-0.176703, -0.207789, -0.0732009, 0.959292)
bones/34/position = Vector3(-2.68173, 2.46615, 1.57617)
bones/34/rotation = Quaternion(0.253096, -0.0613235, 0.227353, 0.938346)
bones/35/position = Vector3(2.18262e-06, 4.18709, 3.78163e-06)
bones/35/rotation = Quaternion(-0.116193, -0.111937, -0.402845, 0.900936)
bones/36/position = Vector3(-5.52822e-07, 3.4184, -4.87797e-06)
bones/36/rotation = Quaternion(-0.0736887, -0.0551924, -0.182553, 0.978876)
bones/37/position = Vector3(-2.89934e-06, 2.58057, -6.35618e-06)
bones/38/position = Vector3(-2.25986, 9.10932, 0.518008)
bones/38/rotation = Quaternion(0.55596, -2.53106e-05, -0.0671299, 0.828494)
bones/39/position = Vector3(-8.15423e-07, 3.69999, -6.53405e-06)
bones/39/rotation = Quaternion(0.691755, 7.18208e-05, -0.0834058, 0.717299)
bones/40/position = Vector3(5.34441e-06, 2.85, 6.00799e-06)
bones/40/rotation = Quaternion(0.373263, -2.55015e-05, -0.0451069, 0.926628)
bones/42/position = Vector3(-3.53718e-05, 9.5334, -4.41013e-05)
bones/42/rotation = Quaternion(0.555843, -1.84854e-05, -0.0671057, 0.828574)
bones/43/position = Vector3(2.93684e-07, 3.70001, -7.33839e-07)
bones/43/rotation = Quaternion(0.691857, 1.39726e-05, -0.0834779, 0.717193)
bones/44/rotation = Quaternion(0.373261, 6.70074e-06, -0.0450264, 0.926633)
bones/45/position = Vector3(-3.41319e-07, 2.95288, -2.20348e-06)
bones/46/position = Vector3(1.86508, 9.10453, 0.0430062)
bones/46/rotation = Quaternion(0.555959, 2.66639e-06, -0.0670882, 0.828498)
bones/47/position = Vector3(1.21889e-06, 3.15002, 2.89108e-07)
bones/47/rotation = Quaternion(0.691757, -8.20584e-07, -0.0834812, 0.717289)
bones/48/position = Vector3(-1.23848e-07, 2.95, -5.32404e-06)
bones/48/rotation = Quaternion(0.373261, -1.25532e-06, -0.0450457, 0.926632)
bones/49/position = Vector3(-2.02936e-05, 2.64432, 1.28188e-05)
bones/50/position = Vector3(3.80626, 8.07778, 0.48686)
bones/50/rotation = Quaternion(0.551872, 0.0210919, -0.0946638, 0.82827)
bones/51/position = Vector3(-4.02831e-06, 3.59999, -6.22371e-06)
bones/51/rotation = Quaternion(0.694511, 0.0246934, -0.0582065, 0.716698)
bones/52/position = Vector3(7.80486e-07, 2.10002, 2.46594e-06)
bones/52/rotation = Quaternion(0.37327, -2.4589e-05, -0.0451075, 0.926626)
bones/53/position = Vector3(4.91221e-07, 2.12551, 2.78761e-06)
bones/54/rotation = Quaternion(-0.282041, 0.726364, 0.595769, 0.194696)
bones/55/rotation = Quaternion(-0.869996, -0.016743, 0.0697703, 0.487811)
bones/56/rotation = Quaternion(0.698008, -0.00788637, 0.0912612, 0.710207)
bones/57/rotation = Quaternion(0.432786, -4.34233e-09, -3.22917e-09, 0.901497)
bones/59/rotation = Quaternion(0.224698, 0.762968, 0.538636, -0.277961)
bones/60/rotation = Quaternion(-0.874715, 0.0312293, -0.0706184, 0.478447)
bones/61/rotation = Quaternion(0.750571, 0.0688659, -0.0601557, 0.654432)
bones/62/rotation = Quaternion(0.372229, -1.22131e-08, -1.20148e-07, 0.928141)

[node name="Physical Bone mixamorig_Hips" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="1"]
transform = Transform3D(0.990026, -0.125652, -0.0637203, 0.0652958, 0.809987, -0.582803, 0.124843, 0.572827, 0.810112, 0.811511, 3.90788, -61.0761)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00178762, 0.00210539, 5.08998)
body_offset = Transform3D(1, 1.11759e-08, 1.78814e-07, 3.07336e-06, 1.57952e-06, -1, 3.02494e-06, 0.999999, -6.85453e-07, 0.00178671, 5.08998, -0.0021019)

[node name="Physical Bone mixamorig_Spine2" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="2"]
transform = Transform3D(0.99796, 0.0631403, 0.00946003, 0.0265351, -0.275429, -0.960956, -0.0580678, 0.959256, -0.276537, 1.42272, 30.8357, -72.6679)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000112491, 9.89118e-06, 8.43269)
body_offset = Transform3D(1, 1.56276e-06, -1.08033e-07, 3.50177e-07, -3.30806e-06, -1, -5.1409e-07, 1.00001, -2.68221e-07, -0.00011158, 8.43269, -7.62939e-06)

[node name="Physical Bone mixamorig_Shoulder_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="3"]
transform = Transform3D(-0.0643298, -0.230153, 0.971025, -0.368836, -0.898672, -0.23744, 0.927265, -0.373388, -0.0270766, -8.47694, 34.8786, -72.2654)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.38602e-05, -1.41161e-06, 5.41908)
body_offset = Transform3D(0.999999, 3.86238e-05, 2.99513e-06, -3.05474e-07, -8.25524e-06, -1, -3.8743e-07, 1, -1.14739e-06, 7.62939e-06, 5.41908, 7.62939e-06)

[node name="Physical Bone mixamorig_Arm_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="4"]
transform = Transform3D(0.780259, -0.195014, 0.594272, 0.527357, -0.305733, -0.792733, 0.336278, 0.931942, -0.135708, -16.4692, 31.8851, -59.0716)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.71797e-05, -13.9999, -1.15636e-05)
body_offset = Transform3D(0.999996, -7.15256e-07, -8.04663e-07, 3.42727e-07, 1.00001, -7.89762e-07, -2.47359e-06, 1.49012e-06, 1, 1.71661e-05, 14, 3.24249e-05)

[node name="Physical Bone mixamorig_ForeArm_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="5"]
transform = Transform3D(0.787233, 0.164634, 0.594273, 0.607881, -0.0452562, -0.792729, -0.103616, 0.985313, -0.13571, -19.1685, 27.6534, -46.1723)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14441e-05, -2.28883e-05, -7.62937e-06)
body_offset = Transform3D(0.999995, 1.49012e-08, 2.92063e-06, 1.546e-07, 0.999997, -2.64496e-06, 4.58956e-06, -7.22706e-07, 0.999998, 1.14441e-05, 2.28882e-05, 7.62939e-06)

[node name="Physical Bone mixamorig_Hand_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="6"]
transform = Transform3D(0.362463, -0.539398, -0.760047, -0.899995, 0.00929153, -0.435795, 0.242131, 0.841996, -0.482091, -12.9966, 27.2358, -17.3029)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000191033, -2.57343e-05, 1.98399)
body_offset = Transform3D(-0.506163, -0.535719, -0.675869, 2.71201e-06, 0.783672, -0.621171, 0.862437, -0.314416, -0.39667, 1.34081, 1.23242, 0.787148)

[node name="Physical Bone mixamorig_Shoulder_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="7"]
transform = Transform3D(0.039609, 0.524095, -0.850714, 0.387678, -0.792843, -0.470365, -0.920939, -0.311006, -0.2346, 10.5164, 36.3832, -71.6711)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000578204, 0.000418578, 5.41875)
body_offset = Transform3D(0.999996, -0.00015229, 3.12924e-07, -6.04987e-06, -3.21865e-05, -0.999998, -3.85642e-05, 1, 1.2517e-06, -0.000579834, 5.41874, -0.000425339)

[node name="Physical Bone mixamorig_Arm_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="8"]
transform = Transform3D(0.766204, -0.633741, -0.0912747, -0.570186, -0.74299, 0.348149, -0.287723, -0.215254, -0.932984, 16.1555, 33.8008, -57.492)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000132418, -0.381862, 13.9237)
body_offset = Transform3D(0.99748, -2.08616e-07, -1.68383e-06, 1.53482e-06, -6.25849e-07, -0.999999, 1.13249e-06, 0.999999, 1.2815e-06, -0.000108719, 13.9237, 0.381844)

[node name="Physical Bone mixamorig_ForeArm_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="9"]
transform = Transform3D(0.743706, -0.633735, 0.212741, -0.661761, -0.742986, 0.100128, 0.0946115, -0.215256, -0.971951, 14.6545, 27.8205, -30.6577)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000132507, -0.000181676, 14.1644)
body_offset = Transform3D(0.999989, 1.54972e-06, -8.79169e-07, 9.68575e-07, -4.09782e-06, -0.999987, -1.13249e-06, 0.999992, -9.08971e-07, 0.000144958, 14.1642, 0.00019455)

[node name="Physical Bone mixamorig_Hand_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="10"]
transform = Transform3D(0.558557, 0.627273, 0.536529, 0.822622, -0.356797, -0.440257, -0.0848514, 0.691663, -0.716856, 10.5708, 27.2782, -15.4664)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00148553, 0.00338337, 1.98924)
body_offset = Transform3D(-0.506694, 0.535586, 0.673528, -7.07805e-08, 0.783597, -0.621201, -0.859741, -0.313524, -0.395022, -1.34087, 1.23307, 0.788132)

[node name="Physical Bone mixamorig_UpLeg_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="11"]
transform = Transform3D(-0.691008, 0.0362947, 0.721908, -0.654832, 0.39136, -0.646535, -0.306049, -0.919522, -0.246608, -23.8986, 9.57969, -47.8855)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.22356e-05, 2.08624e-06, 22.1861)
body_offset = Transform3D(0.999982, 6.07967e-05, 2.35438e-06, 8.64267e-07, 6.57141e-05, -0.999987, 2.563e-06, 1, 1.2815e-06, 0, 22.1858, -3.05176e-05)

[node name="Physical Bone mixamorig_Leg_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="12"]
transform = Transform3D(-0.75789, -0.53447, -0.371577, -0.626367, 0.436085, 0.643324, -0.182319, 0.723448, -0.660624, -31.5909, 9.54031, -27.5992)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0206108, -0.023893, 22.3942)
body_offset = Transform3D(0.999987, 2.20537e-05, -0.000898868, -6.55651e-07, -0.000162482, -0.994161, 2.98023e-08, 0.999603, 0.00105315, -0.000480652, 22.2634, 0.000298977)

[node name="Physical Bone mixamorig_Foot_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="13"]
transform = Transform3D(-0.774922, -0.472891, 0.419344, -0.63204, 0.579792, -0.514141, 2.11978e-06, -0.66347, -0.748185, -26.164, -1.29251, -7.61511)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.31349e-05, -9.30493e-05, 6.90857)
body_offset = Transform3D(0.999989, 1.46031e-06, -1.3411e-06, 1.07288e-06, 7.45058e-07, -0.999986, -1.3113e-06, 0.999989, -5.96046e-08, -4.3869e-05, 6.90847, 9.34601e-05)

[node name="Physical Bone mixamorig_UpLeg_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="14"]
transform = Transform3D(-0.818012, -0.0865973, -0.568637, 0.516321, 0.325017, -0.79228, 0.25349, -0.941461, -0.221221, 20.9852, 13.8846, -46.3992)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.87556e-06, 0.000216019, 22.1856)
body_offset = Transform3D(0.999994, 2.5332e-07, 2.98023e-08, -3.30806e-06, -7.7486e-06, -0.999998, 3.42727e-07, 0.999742, 2.38419e-07, -9.53674e-06, 22.1856, -0.000221252)

[node name="Physical Bone mixamorig_Leg_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="15"]
transform = Transform3D(-0.885863, 0.393792, 0.244896, 0.443796, 0.565485, 0.694874, 0.135235, 0.723942, -0.676131, 28.1483, 15.9911, -26.4378)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.47695e-06, 7.69175e-05, 22.2645)
body_offset = Transform3D(0.999998, 1.67191e-05, -2.98023e-08, -5.06639e-07, 9.98378e-05, -0.999988, 2.98023e-08, 0.999469, -6.25849e-07, -3.8147e-06, 22.2642, -6.29425e-05)

[node name="Physical Bone mixamorig_Foot_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="16"]
transform = Transform3D(-0.947939, 0.189069, -0.255117, 0.317076, 0.610704, -0.724361, 0.0180291, -0.766968, -0.639086, 24.4598, 5.52909, -6.96598)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000219755, -0.000358755, 6.91415)
body_offset = Transform3D(0.999725, -0.000122756, 5.49406e-05, -0.000581145, 0.000568539, -0.999108, 0.000710115, 0.998472, 0.000121623, -0.000160217, 6.90798, -0.000482559)

[node name="Dash_Trigger" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Dash_Trigger"]
shape = SubResource("SphereShape3D_4upli")

[connection signal="target_reached" from="Navigation_Agent" to="." method="_on_navigation_agent_target_reached"]
[connection signal="animation_finished" from="Zookeeper_Model/AnimationPlayer" to="ZookeeperStateMachine/Charge_Dash" method="_on_animation_player_animation_finished"]
[connection signal="animation_finished" from="Zookeeper_Model/AnimationPlayer" to="ZookeeperStateMachine/Dash" method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="Dash_Trigger" to="." method="_on_dash_trigger_entered"]

[editable path="Zookeeper_Model"]
