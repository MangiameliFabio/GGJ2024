[gd_scene load_steps=12 format=3 uid="uid://c34jh3v61xojh"]

[ext_resource type="Script" path="res://Zookeeper/zookeeper.gd" id="1_nf5op"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/Zookeeper_State_Machine.gd" id="2_sgkx4"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Idle.gd" id="3_5yo00"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Follow_Player.gd" id="4_13t8d"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Attack.gd" id="5_qsxm6"]
[ext_resource type="PackedScene" uid="uid://doos1hqfu3wdh" path="res://Zookeeper/Zookeeper_Model.tscn" id="6_0t135"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Death.gd" id="6_f5tih"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Charge_Dash.gd" id="7_1du7w"]
[ext_resource type="Script" path="res://StateMachines/Zookeeper/States/Zookeeper_Dash.gd" id="8_mgsos"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xat7b"]

[sub_resource type="SphereShape3D" id="SphereShape3D_4upli"]
radius = 4.0

[node name="Zookeeper" type="CharacterBody3D" groups=["enemy"]]
axis_lock_angular_x = true
axis_lock_angular_z = true
script = ExtResource("1_nf5op")

[node name="World_Collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_xat7b")

[node name="ZookeeperStateMachine" type="Node" parent="."]
script = ExtResource("2_sgkx4")
initial_state = NodePath("Follow_Player")

[node name="Idle" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("3_5yo00")

[node name="Follow_Player" type="Node" parent="ZookeeperStateMachine" node_paths=PackedStringArray("zookeeper")]
script = ExtResource("4_13t8d")
zookeeper = NodePath("../..")

[node name="Attack" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("5_qsxm6")

[node name="Death" type="Node" parent="ZookeeperStateMachine" node_paths=PackedStringArray("bone")]
script = ExtResource("6_f5tih")
bone = NodePath("../../Zookeeper_Model/Armature_001/Skeleton3D/Physical Bone mixamorig_Spine2")

[node name="Charge_Dash" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("7_1du7w")

[node name="Dash" type="Node" parent="ZookeeperStateMachine"]
script = ExtResource("8_mgsos")

[node name="Navigation_Agent" type="NavigationAgent3D" parent="."]
target_desired_distance = 1.5
avoidance_enabled = true

[node name="Zookeeper_Model" parent="." instance=ExtResource("6_0t135")]

[node name="Skeleton3D" parent="Zookeeper_Model/Armature_001" index="0"]
bones/0/position = Vector3(-0.724088, 0.978774, -59.7198)
bones/0/rotation = Quaternion(-0.463489, -0.058148, -0.00921674, 0.884145)
bones/1/rotation = Quaternion(0.0820668, 0.0176287, 0.000232863, 0.996471)
bones/2/rotation = Quaternion(0.259149, 0.0275923, 0.00309632, 0.965438)
bones/3/position = Vector3(-1.3113e-06, 9.32208, -1.05608e-05)
bones/3/rotation = Quaternion(0.271262, 0.0287561, 0.00837088, 0.96204)
bones/4/rotation = Quaternion(-0.257616, -0.0185523, 0.046791, 0.964936)
bones/5/rotation = Quaternion(-0.00318281, -0.00568267, -0.0257612, 0.999647)
bones/6/rotation = Quaternion(-0.536457, 0.550899, -0.426255, -0.476479)
bones/7/position = Vector3(-3.57628e-07, 10.8382, -6.66343e-07)
bones/7/rotation = Quaternion(0.21871, 0.435141, -0.627348, 0.607662)
bones/8/position = Vector3(-9.63688e-06, 27.8415, -1.58086e-05)
bones/8/rotation = Quaternion(-1.2401e-07, -1.45412e-07, -0.0620722, 0.998072)
bones/9/rotation = Quaternion(-0.0692032, 0.0642204, -0.223049, 0.970225)
bones/10/rotation = Quaternion(0.310896, -0.0410303, -0.292066, 0.903525)
bones/11/position = Vector3(2.21178e-06, 4.18899, -3.41797e-06)
bones/11/rotation = Quaternion(-0.0687997, -0.0912261, 0.367751, 0.922878)
bones/12/position = Vector3(1.11383e-05, 3.41625, 6.69586e-06)
bones/12/rotation = Quaternion(-0.0459167, -0.0453872, 0.143694, 0.987514)
bones/13/position = Vector3(8.34465e-07, 2.57497, 2.44224e-07)
bones/14/position = Vector3(2.25983, 9.10829, 0.517868)
bones/14/rotation = Quaternion(0.22219, -3.65244e-05, 0.0269192, 0.974632)
bones/15/position = Vector3(2.91133e-07, 3.69999, 5.62467e-07)
bones/15/rotation = Quaternion(0.446597, 0.000114622, 0.0546574, 0.893064)
bones/16/position = Vector3(-6.47087e-08, 2.85001, 2.05763e-07)
bones/16/rotation = Quaternion(0.229529, -2.05452e-05, 0.027887, 0.972902)
bones/18/position = Vector3(-2.48329e-05, 9.53251, 4.63095e-05)
bones/18/rotation = Quaternion(0.22219, -0.000111441, 0.0265903, 0.974641)
bones/19/position = Vector3(-5.02199e-07, 3.70001, -3.32152e-06)
bones/19/rotation = Quaternion(0.4466, 0.00037974, 0.055188, 0.89303)
bones/20/rotation = Quaternion(0.22951, -7.40599e-05, 0.0276579, 0.972913)
bones/21/position = Vector3(-4.01207e-07, 2.94664, 1.32651e-06)
bones/22/position = Vector3(-1.86514, 9.10359, 0.0430797)
bones/22/rotation = Quaternion(0.22219, 3.47439e-05, 0.0272312, 0.974623)
bones/23/rotation = Quaternion(0.4466, -9.86866e-05, 0.0542313, 0.893089)
bones/24/rotation = Quaternion(0.229523, -2.59465e-05, 0.027863, 0.972904)
bones/25/position = Vector3(-9.08724e-06, 2.63881, 2.1622e-06)
bones/26/position = Vector3(-3.80628, 8.07668, 0.48671)
bones/26/rotation = Quaternion(0.222195, 0.000115507, 0.0275865, 0.974612)
bones/27/position = Vector3(-3.01202e-08, 3.6, -2.13743e-06)
bones/27/rotation = Quaternion(0.446601, 0.00037814, 0.0551849, 0.893029)
bones/28/position = Vector3(2.71188e-06, 2.09998, 8.61805e-07)
bones/28/rotation = Quaternion(0.229511, -0.000114418, 0.0274876, 0.972918)
bones/29/position = Vector3(-1.17017e-06, 2.11577, -4.388e-06)
bones/30/rotation = Quaternion(0.499459, 0.548561, -0.332179, 0.582476)
bones/31/position = Vector3(-4.76837e-07, 10.8377, -2.02153e-06)
bones/31/rotation = Quaternion(0.373609, -0.494164, 0.553815, 0.556333)
bones/32/position = Vector3(2.53428e-06, 27.8415, -5.99141e-06)
bones/32/rotation = Quaternion(5.18117e-07, -5.8295e-08, 0.0881252, 0.996109)
bones/33/position = Vector3(6.12936e-06, 28.3288, 6.23057e-06)
bones/33/rotation = Quaternion(-0.199315, -0.0600854, 0.0172013, 0.97794)
bones/34/position = Vector3(-2.68173, 2.46615, 1.57617)
bones/34/rotation = Quaternion(0.253096, -0.0613235, 0.227353, 0.938346)
bones/35/position = Vector3(2.18262e-06, 4.18709, 3.78163e-06)
bones/35/rotation = Quaternion(-0.0948532, -0.0886486, -0.338362, 0.932017)
bones/36/position = Vector3(-5.52822e-07, 3.4184, -4.87797e-06)
bones/36/rotation = Quaternion(-0.0637248, -0.0433361, -0.14733, 0.986081)
bones/37/position = Vector3(-2.89934e-06, 2.58057, -6.35618e-06)
bones/38/position = Vector3(-2.25986, 9.10932, 0.518008)
bones/38/rotation = Quaternion(0.379517, -1.72143e-05, -0.0458409, 0.924048)
bones/39/position = Vector3(-8.15423e-07, 3.69999, -6.53405e-06)
bones/39/rotation = Quaternion(0.43864, 4.54753e-05, -0.0528408, 0.897108)
bones/40/position = Vector3(5.34441e-06, 2.85, 6.00799e-06)
bones/40/rotation = Quaternion(0.225189, -1.53963e-05, -0.0272405, 0.973934)
bones/42/position = Vector3(-3.53718e-05, 9.5334, -4.41013e-05)
bones/42/rotation = Quaternion(0.379439, -1.26651e-05, -0.0458202, 0.924081)
bones/43/position = Vector3(2.93684e-07, 3.70001, -7.33839e-07)
bones/43/rotation = Quaternion(0.438767, 8.89906e-06, -0.0529312, 0.897041)
bones/44/rotation = Quaternion(0.225187, 3.98582e-06, -0.0271559, 0.973937)
bones/45/position = Vector3(-3.41319e-07, 2.95288, -2.20348e-06)
bones/46/position = Vector3(1.86508, 9.10453, 0.0430062)
bones/46/rotation = Quaternion(0.379515, 1.91214e-06, -0.0457943, 0.924051)
bones/47/position = Vector3(1.21889e-06, 3.15002, 2.89108e-07)
bones/47/rotation = Quaternion(0.438642, -6.44792e-07, -0.0529352, 0.897102)
bones/48/position = Vector3(-1.23848e-07, 2.95, -5.32404e-06)
bones/48/rotation = Quaternion(0.225187, -9.01189e-07, -0.0271762, 0.973937)
bones/49/position = Vector3(-2.02936e-05, 2.64432, 1.28188e-05)
bones/50/position = Vector3(3.80626, 8.07778, 0.48686)
bones/50/rotation = Quaternion(0.375128, 0.0143947, -0.076569, 0.923693)
bones/51/position = Vector3(-4.02831e-06, 3.59999, -6.22371e-06)
bones/51/rotation = Quaternion(0.442354, 0.0156575, -0.0213571, 0.896449)
bones/52/position = Vector3(7.80486e-07, 2.10002, 2.46594e-06)
bones/52/rotation = Quaternion(0.225196, -1.46542e-05, -0.0272409, 0.973933)
bones/53/position = Vector3(4.91221e-07, 2.12551, 2.78761e-06)
bones/54/rotation = Quaternion(-0.293927, 0.714238, 0.607905, 0.184182)
bones/55/rotation = Quaternion(-0.852608, 0.001885, 0.0679468, 0.518111)
bones/56/rotation = Quaternion(0.707621, -0.0345816, 0.0722807, 0.702034)
bones/57/rotation = Quaternion(0.403104, 5.72159e-08, -3.55741e-07, 0.915154)
bones/59/rotation = Quaternion(0.224189, 0.76138, 0.542459, -0.27528)
bones/60/rotation = Quaternion(-0.849229, 0.0236238, -0.078885, 0.521564)
bones/61/rotation = Quaternion(0.715605, 0.0876931, -0.0691126, 0.689524)
bones/62/rotation = Quaternion(0.352101, 6.37366e-08, -2.32585e-07, 0.935962)

[node name="Physical Bone mixamorig_Hips" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="1"]
transform = Transform3D(0.993055, -0.0942782, -0.070201, 0.0376082, 0.820645, -0.570161, 0.111363, 0.56358, 0.81851, -0.364303, 3.87834, -63.8863)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00231809, 0.00248863, 5.08894)
body_offset = Transform3D(0.999987, -1.38022e-06, -3.42727e-07, 4.01028e-06, 6.4671e-06, -0.999985, 2.98023e-06, 0.999985, 2.07126e-05, 0.00231981, 5.08887, -0.00259399)

[node name="Physical Bone mixamorig_Spine2" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="2"]
transform = Transform3D(0.999797, 0.0197077, -0.000894999, 0.00448122, -0.271193, -0.962502, -0.0192083, 0.962348, -0.271223, 0.767327, 30.8425, -75.4463)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000403863, -0.000344662, 8.4336)
body_offset = Transform3D(0.999992, 1.63564e-07, 1.41608e-06, -3.34345e-07, 4.67896e-06, -0.999986, 3.24263e-06, 1.00002, -7.45058e-07, -0.000415802, 8.43348, 0.000350952)

[node name="Physical Bone mixamorig_Shoulder_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="3"]
transform = Transform3D(0.0488166, -0.0721047, 0.996177, -0.44418, -0.894914, -0.043008, 0.894562, -0.440368, -0.0757152, -9.21291, 33.9324, -74.9741)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00149472, 0.000372907, 5.41896)
body_offset = Transform3D(0.99996, 4.57168e-05, 5.49853e-06, 4.20026e-06, -4.98444e-06, -0.999976, 6.55651e-07, 0.999997, -2.99513e-06, 0.00146484, 5.41883, -0.000356674)

[node name="Physical Bone mixamorig_Arm_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="4"]
transform = Transform3D(0.619731, -0.0500328, 0.783204, 0.767884, -0.167459, -0.618304, 0.162085, 0.984621, -0.0653558, -15.3123, 31.8213, -60.7801)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.70268e-05, -14.0004, -8.35754e-06)
body_offset = Transform3D(0.999992, 1.65403e-06, 1.00136e-05, -4.84288e-06, 1.00001, 8.27014e-07, -1.29342e-05, 2.80887e-06, 0.99999, -4.3869e-05, 14.0006, 4.76837e-05)

[node name="Physical Bone mixamorig_ForeArm_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="5"]
transform = Transform3D(0.621146, 0.0271222, 0.783182, 0.78266, -0.0710188, -0.61829, 0.0388403, 0.996958, -0.0653568, -16.0043, 29.5036, -47.1519)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000353834, -0.000301406, -0.00044824)
body_offset = Transform3D(0.999944, -1.44877e-05, 6.94394e-06, -5.96046e-08, 0.999852, -7.82311e-07, 1.32918e-05, -5.56931e-06, 0.999963, 0.000353813, 0.000301361, 0.000448227)

[node name="Physical Bone mixamorig_Hand_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="6"]
transform = Transform3D(0.511891, -0.398983, -0.760774, -0.823972, 0.0224476, -0.566177, 0.242969, 0.916678, -0.317266, -13.7267, 28.6143, -18.275)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000756025, -0.000769198, 1.98385)
body_offset = Transform3D(-0.506161, -0.535714, -0.675865, -7.15256e-07, 0.783672, -0.62117, 0.862436, -0.314418, -0.396669, 1.34002, 1.23291, 0.787342)

[node name="Physical Bone mixamorig_Shoulder_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="7"]
transform = Transform3D(0.158422, 0.304267, -0.939287, 0.419069, -0.882174, -0.215123, -0.893991, -0.359375, -0.267297, 10.4124, 34.9056, -74.112)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00144774, 0.000263952, 5.4178)
body_offset = Transform3D(0.999968, -0.000166059, -6.68317e-06, -1.29193e-05, -3.54797e-05, -0.999993, -4.48227e-05, 0.99998, 6.21378e-06, -0.00141144, 5.41777, -0.000297546)

[node name="Physical Bone mixamorig_Arm_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="8"]
transform = Transform3D(0.507799, -0.855354, 0.0953186, -0.837451, -0.469147, 0.273705, -0.188916, -0.219382, -0.957026, 13.85, 32.0808, -59.4217)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000584706, -0.381888, 13.9252)
body_offset = Transform3D(0.997434, -2.15769e-05, -1.44541e-06, 1.33663e-05, -1.4469e-05, -0.999949, 6.22869e-06, 0.99993, 3.57628e-07, 0.000595093, 13.9245, 0.381856)

[node name="Physical Bone mixamorig_ForeArm_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="9"]
transform = Transform3D(0.484461, -0.855393, 0.183226, -0.874597, -0.469182, 0.122053, -0.0184381, -0.219387, -0.975434, 10.2541, 26.722, -32.2019)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000135816, -0.000474058, 14.1643)
body_offset = Transform3D(0.999981, -1.15335e-05, 7.97212e-06, 3.76999e-06, -2.99513e-06, -0.99997, -3.09944e-06, 0.99998, -3.31551e-07, 2.28882e-05, 14.1639, 0.000478745)

[node name="Physical Bone mixamorig_Hand_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="10"]
transform = Transform3D(0.594312, 0.614112, 0.512729, 0.785154, -0.318513, -0.528904, -0.161794, 0.721476, -0.672968, 6.63573, 26.046, -17.0476)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00123215, 0.00366265, 1.99007)
body_offset = Transform3D(-0.506685, 0.535573, 0.673512, -2.01166e-07, 0.783573, -0.621187, -0.859722, -0.313507, -0.395001, -1.34167, 1.23334, 0.788288)

[node name="Physical Bone mixamorig_UpLeg_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="11"]
transform = Transform3D(-0.70934, -0.00690984, 0.704799, -0.649435, 0.394901, -0.649806, -0.273872, -0.918695, -0.284565, -24.8447, 9.98475, -49.629)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000212146, 0.000844575, 22.1866)
body_offset = Transform3D(0.999967, 4.04716e-05, -5.36442e-07, 2.98023e-07, 5.05745e-05, -0.999983, 3.24845e-06, 0.999997, 4.47035e-07, -0.000200272, 22.1862, -0.000854492)

[node name="Physical Bone mixamorig_Leg_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="12"]
transform = Transform3D(-0.749349, -0.538818, -0.382318, -0.646301, 0.468905, 0.599457, -0.143985, 0.699257, -0.694832, -31.9161, 11.0007, -27.7357)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0208734, -0.0237781, 22.3957)
body_offset = Transform3D(0.99998, 2.3067e-05, -0.000899106, -4.47035e-06, -0.000167131, -0.994136, 3.06964e-06, 0.999578, 0.00105646, -0.000736237, 22.2644, 0.000107765)

[node name="Physical Bone mixamorig_Foot_R" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="13"]
transform = Transform3D(-0.800763, -0.422295, 0.424586, -0.598832, 0.564468, -0.567787, 0.000157438, -0.709185, -0.704891, -26.2861, 1.52388, -7.28569)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000627864, -0.00090741, 6.91003)
body_offset = Transform3D(0.99991, 3.8743e-07, -0.000100791, -6.4075e-06, -3.45707e-06, -0.999764, 2.41995e-05, 0.99995, 9.65297e-05, 6.86646e-05, 6.9084, 0.000240326)

[node name="Physical Bone mixamorig_UpLeg_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="14"]
transform = Transform3D(-0.802161, -0.0835665, -0.591177, 0.539831, 0.321336, -0.777943, 0.255051, -0.942903, -0.21273, 20.2099, 13.4453, -49.3944)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000545274, 0.000924904, 22.1868)
body_offset = Transform3D(0.999965, 8.18074e-06, 3.42727e-06, -1.43051e-06, -1.13994e-05, -0.99997, 4.26173e-06, 0.999653, -5.39422e-06, 0.000469208, 22.1861, -0.000804901)

[node name="Physical Bone mixamorig_Leg_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="15"]
transform = Transform3D(-0.872799, 0.431048, 0.22836, 0.472434, 0.628922, 0.617004, 0.122418, 0.646164, -0.75304, 28.2419, 16.9668, -27.9088)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000387668, -0.000204504, 22.2653)
body_offset = Transform3D(0.999979, 1.41561e-05, -1.14143e-05, -7.36117e-06, 0.000108898, -0.999956, -6.13928e-06, 0.999437, 3.39746e-06, -0.000133514, 22.2644, 0.000128746)

[node name="Physical Bone mixamorig_Foot_L" parent="Zookeeper_Model/Armature_001/Skeleton3D" index="16"]
transform = Transform3D(-0.952505, 0.191787, -0.235187, 0.30358, 0.601266, -0.737693, -0.000927564, -0.77351, -0.631171, 24.7839, 8.33124, -6.77888)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000320868, -0.000897885, 6.91504)
body_offset = Transform3D(0.999714, -0.000141695, 6.42985e-05, -0.000590056, 0.000569314, -0.998941, 0.000714496, 0.998308, 0.000129521, -0.000123978, 6.90771, 9.53674e-07)

[node name="Dash_Trigger" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Dash_Trigger"]
shape = SubResource("SphereShape3D_4upli")

[connection signal="target_reached" from="Navigation_Agent" to="." method="_on_navigation_agent_target_reached"]
[connection signal="animation_finished" from="Zookeeper_Model/AnimationPlayer" to="ZookeeperStateMachine/Charge_Dash" method="_on_animation_player_animation_finished"]
[connection signal="animation_finished" from="Zookeeper_Model/AnimationPlayer" to="ZookeeperStateMachine/Dash" method="_on_animation_player_animation_finished"]
[connection signal="body_entered" from="Dash_Trigger" to="." method="_on_dash_trigger_entered"]

[editable path="Zookeeper_Model"]
